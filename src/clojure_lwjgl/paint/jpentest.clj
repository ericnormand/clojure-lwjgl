(ns clojure-lwjgl.paint.jpentest
  (:import [java.awt Frame Canvas]
           [java.awt.event WindowAdapter ComponentAdapter]
           [java.nio IntBuffer FloatBuffer]
           ;;           [jpen.owner.multiAwt AwtPenToolkit]
           [jpen.event PenAdapter]
           [jpen PenManager]
           [jpen.owner ScreenPenOwner]))

(def manager (PenManager. (proxy [ScreenPenOwner] []
                            (setPenManagerHandle [pen-manager-handle]
                              (.setPenManagerPaused pen-manager-handle false)))))

(let [pen (.pen manager)]

  (.addListener pen (proxy [PenAdapter] []
                      (penLevelEvent [e]
                        (println "pen level event " e))
                      (penKindEvent [e]
                        (println "pen kind event " e))
                      (penButtonEvent [e]
                        (println "pen button event " e))))
  
  (println (.getPaused manager)))

(comment (let [frame (Frame.)
               pen (.pen manager)]

           (.addListener pen (proxy [PenAdapter] []
                               (penLevelEvent [e]
                                 (println "pen level event " e))))
           (println (.getPaused manager))
           ;;  (AwtPenToolkit/addPenListener frame)
           (doto frame
             (.addWindowListener
              (proxy [WindowAdapter] []
                (windowClosing [e]
                  (.dispose frame))))
             (.setSize 200 200)
             .show)))